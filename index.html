<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>House Points Ceremony</title>

<style>
/* =====================
   RESET
===================== */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; }

/* =====================
   BACKGROUND
===================== */
body {
    font-family: "Segoe UI", Tahoma, Arial, sans-serif;
    background: radial-gradient(circle at top, #1b2a4a 0%, #0b1020 45%, #02030a 100%);
    color: #e6ebff;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
        radial-gradient(circle at 25% 20%, rgba(120,150,255,0.12), transparent 40%),
        radial-gradient(circle at 75% 80%, rgba(80,120,255,0.10), transparent 45%);
    pointer-events: none;
}

/* =====================
   LAYOUT
===================== */
.wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 26px;
    transition: filter 0.4s ease;
}

.wrapper.dim {
    filter: blur(4px) brightness(0.6);
}

header { text-align: center; }

header h1 {
    font-size: clamp(22px, 3vw, 32px);
    letter-spacing: 1px;
}

header p {
    margin-top: 6px;
    font-size: 14px;
    color: #a9b4ff;
}

/* =====================
   CLASS GRID
===================== */
.grid {
    display: grid;
    grid-template-columns: repeat(2, auto);
    gap: 36px;
}

.tile {
    width: 180px;
    height: 220px;
    background: linear-gradient(
        145deg,
        rgba(255,255,255,0.07),
        rgba(255,255,255,0.02)
    );
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow:
        0 18px 40px rgba(0,0,0,0.65),
        inset 0 0 30px rgba(120,150,255,0.08);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 14px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.tile:hover {
    transform: translateY(-6px);
    box-shadow:
        0 30px 60px rgba(0,0,0,0.85),
        inset 0 0 45px rgba(150,180,255,0.18);
}

.tile img {
    max-width: 100%;
    max-height: 150px;
    object-fit: contain;
    filter:
        drop-shadow(0 14px 22px rgba(0,0,0,0.75))
        drop-shadow(0 0 10px rgba(120,150,255,0.35));
}

.label {
    margin-top: 10px;
    font-size: 18px;
    font-weight: 800;
    letter-spacing: 1px;
}

/* =====================
   OVERLAY (CEREMONY)
===================== */
.overlay {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, rgba(20,30,60,0.98), #02030a 70%);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

.panel {
    background: linear-gradient(160deg, #0f172a, #020617);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 24px;
    padding: 32px;
    width: min(92%, 520px);
    display: grid;
    gap: 22px;
    text-align: center;
    box-shadow:
        0 40px 90px rgba(0,0,0,0.85),
        inset 0 0 40px rgba(120,150,255,0.08);
}

.panel h2 {
    font-size: 22px;
    letter-spacing: 1px;
}

/* =====================
   HOUSE + POINTS
===================== */
.houses, .points {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
}

.panel button {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.18);
    color: #e6ebff;
    padding: 16px;
    border-radius: 16px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.panel button:hover {
    background: rgba(120,150,255,0.15);
}

.panel button.active {
    background: rgba(120,150,255,0.28);
    box-shadow:
        0 0 18px rgba(120,150,255,0.6),
        inset 0 0 22px rgba(180,210,255,0.35);
}

/* =====================
   SUBMIT RITUAL
===================== */
.submit {
    margin-top: 6px;
    font-size: 18px;
    font-weight: 700;
    background: linear-gradient(145deg, #7aa2ff, #9bb6ff);
    color: #020617;
    padding: 16px;
    border-radius: 18px;
    border: none;
    cursor: pointer;
    letter-spacing: 1px;
    transition: transform 0.15s ease;
}

.submit:active {
    transform: scale(0.96);
}

/* =====================
   CONFIRMATION
===================== */
.confirmation {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle, rgba(120,150,255,0.35), rgba(2,3,10,0.95));
    z-index: 20;
    animation: fadeIn 0.4s ease;
}

.confirmation div {
    font-size: 26px;
    font-weight: 700;
    letter-spacing: 2px;
    text-shadow: 0 0 30px rgba(150,180,255,0.8);
}

/* =====================
   LOGO
===================== */
.logo {
    position: fixed;
    bottom: 18px;
    left: 18px;
    opacity: 0.75;
}

.logo img { width: 120px; }
</style>
</head>

<body>

<div class="wrapper" id="main">
    <header>
        <h1>Choose Your Class</h1>
        <p>Begin the House Points Ceremony</p>
    </header>

    <div class="grid">
        <div class="tile" onclick="openPanel('4A')">
            <img src="https://iesv-swe.github.io/house-points-junior/4A.png">
            <div class="label">4A</div>
        </div>
        <div class="tile" onclick="openPanel('4B')">
            <img src="https://iesv-swe.github.io/house-points-junior/4B.png">
            <div class="label">4B</div>
        </div>
        <div class="tile" onclick="openPanel('5A')">
            <img src="https://iesv-swe.github.io/house-points-junior/5A.png">
            <div class="label">5A</div>
        </div>
        <div class="tile" onclick="openPanel('5B')">
            <img src="https://iesv-swe.github.io/house-points-junior/5B.png">
            <div class="label">5B</div>
        </div>
    </div>
</div>

<div class="overlay" id="overlay">
    <div class="panel">
        <h2 id="panelTitle"></h2>

        <div class="houses">
            <button onclick="selectHouse(1, event)">House 1</button>
            <button onclick="selectHouse(2, event)">House 2</button>
            <button onclick="selectHouse(3, event)">House 3</button>
            <button onclick="selectHouse(4, event)">House 4</button>
        </div>

        <div class="points">
            <button onclick="selectPoints(1, event)">+1</button>
            <button onclick="selectPoints(2, event)">+2</button>
            <button onclick="selectPoints(3, event)">+3</button>
            <button onclick="selectPoints(4, event)">+4</button>
        </div>

        <button class="submit" onclick="submitPoints()">Bestow Points</button>
    </div>
</div>

<div class="confirmation" id="confirmation">
    <div>Points Awarded</div>
</div>

<div class="logo">
    <img src="logo.png">
</div>

<iframe name="hiddenFrame" style="display:none;"></iframe>

<script>
/* ========= CONFIG ========= */
const FORM_URL = "https://docs.google.com/forms/d/e/FORM_ID/formResponse";
const FIELD_CLASS  = "entry.1111111111";
const FIELD_HOUSE  = "entry.2222222222";
const FIELD_POINTS = "entry.3333333333";
/* ========================== */

let currentClass = "";
let house = null;
let points = null;

function openPanel(cls) {
    currentClass = cls;
    document.getElementById("panelTitle").textContent = cls + " â€“ House Points Ceremony";
    document.getElementById("overlay").style.display = "flex";
    document.getElementById("main").classList.add("dim");
}

function selectHouse(h, e) {
    house = h;
    document.querySelectorAll(".houses button").forEach(b => b.classList.remove("active"));
    e.target.classList.add("active");
}

function selectPoints(p, e) {
    points = p;
    document.querySelectorAll(".points button").forEach(b => b.classList.remove("active"));
    e.target.classList.add("active");
}

function submitPoints() {
    if (!house || !points) return;

    const form = document.createElement("form");
    form.method = "POST";
    form.action = FORM_URL;
    form.target = "hiddenFrame";

    [[FIELD_CLASS, currentClass],[FIELD_HOUSE, house],[FIELD_POINTS, points]].forEach(
        ([k,v]) => {
            const i = document.createElement("input");
            i.type="hidden"; i.name=k; i.value=v;
            form.appendChild(i);
        }
    );

    document.body.appendChild(form);
    form.submit();
    form.remove();

    document.getElementById("overlay").style.display = "none";
    document.getElementById("confirmation").style.display = "flex";

    setTimeout(() => {
        document.getElementById("confirmation").style.display = "none";
        document.getElementById("main").classList.remove("dim");
        house = points = null;
    }, 1200);
}
</script>

</body>
</html>
