<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>House Points</title>

<style>
/* =====================
   RESET
===================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
}

/* =====================
   BACKGROUND
===================== */
body {
    font-family: "Segoe UI", Tahoma, Arial, sans-serif;
    background: radial-gradient(circle at top, #1b2a4a 0%, #0b1020 45%, #02030a 100%);
    color: #e6ebff;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
        radial-gradient(circle at 25% 20%, rgba(120,150,255,0.12), transparent 40%),
        radial-gradient(circle at 75% 80%, rgba(80,120,255,0.10), transparent 45%);
    pointer-events: none;
}

/* =====================
   LAYOUT
===================== */
.wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 26px;
}

header {
    text-align: center;
}

header h1 {
    font-size: clamp(22px, 3vw, 32px);
}

header p {
    margin-top: 6px;
    font-size: 14px;
    color: #a9b4ff;
}

/* =====================
   CLASS GRID
===================== */
.grid {
    display: grid;
    grid-template-columns: repeat(2, auto);
    gap: 36px;
}

.tile {
    width: 180px;
    height: 220px;
    background: linear-gradient(
        145deg,
        rgba(255,255,255,0.07),
        rgba(255,255,255,0.02)
    );
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow:
        0 18px 40px rgba(0,0,0,0.65),
        inset 0 0 30px rgba(120,150,255,0.08);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 14px;
    transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.tile:hover {
    transform: translateY(-4px);
}

.tile img {
    max-width: 100%;
    max-height: 150px;
    object-fit: contain;
    filter:
        drop-shadow(0 14px 22px rgba(0,0,0,0.75))
        drop-shadow(0 0 10px rgba(120,150,255,0.35));
}

.label {
    margin-top: 10px;
    font-size: 18px;
    font-weight: 800;
    letter-spacing: 1px;
}

/* =====================
   OVERLAY PANEL
===================== */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(2,3,10,0.92);
    display: none;
    align-items: center;
    justify-content: center;
}

.panel {
    background: linear-gradient(145deg, #0f172a, #020617);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 22px;
    padding: 28px;
    width: min(92%, 520px);
    display: grid;
    gap: 20px;
    text-align: center;
}

.panel h2 {
    font-size: 22px;
    letter-spacing: 1px;
}

/* =====================
   HOUSE + POINTS
===================== */
.houses, .points {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}

.panel button {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.14);
    color: #e6ebff;
    padding: 14px;
    border-radius: 14px;
    font-size: 16px;
    cursor: pointer;
}

.panel button.active {
    outline: 2px solid #7aa2ff;
}

.submit {
    margin-top: 10px;
    font-size: 18px;
    font-weight: 700;
    background: #7aa2ff;
    color: #020617;
}

/* =====================
   LOGO
===================== */
.logo {
    position: fixed;
    bottom: 18px;
    left: 18px;
    opacity: 0.75;
}

.logo img {
    width: 120px;
}
</style>
</head>

<body>

<div class="wrapper">
    <header>
        <h1>Choose Your Class</h1>
        <p>Tap a class to award House Points</p>
    </header>

    <div class="grid">
        <div class="tile" onclick="openPanel('4A')">
            <img src="https://iesv-swe.github.io/house-points-junior/4A.png">
            <div class="label">4A</div>
        </div>
        <div class="tile" onclick="openPanel('4B')">
            <img src="https://iesv-swe.github.io/house-points-junior/4B.png">
            <div class="label">4B</div>
        </div>
        <div class="tile" onclick="openPanel('5A')">
            <img src="https://iesv-swe.github.io/house-points-junior/5A.png">
            <div class="label">5A</div>
        </div>
        <div class="tile" onclick="openPanel('5B')">
            <img src="https://iesv-swe.github.io/house-points-junior/5B.png">
            <div class="label">5B</div>
        </div>
    </div>
</div>

<div class="overlay" id="overlay">
    <div class="panel">
        <h2 id="panelTitle"></h2>

        <div class="houses">
            <button onclick="selectHouse(1)">House 1</button>
            <button onclick="selectHouse(2)">House 2</button>
            <button onclick="selectHouse(3)">House 3</button>
            <button onclick="selectHouse(4)">House 4</button>
        </div>

        <div class="points">
            <button onclick="selectPoints(1)">+1</button>
            <button onclick="selectPoints(2)">+2</button>
            <button onclick="selectPoints(3)">+3</button>
            <button onclick="selectPoints(4)">+4</button>
        </div>

        <button class="submit" onclick="submitPoints()">Submit</button>
    </div>
</div>

<div class="logo">
    <img src="logo.png">
</div>

<iframe name="hiddenFrame" style="display:none;"></iframe>

<script>
/* ========= CONFIG ========= */
const FORM_URL = "https://docs.google.com/forms/d/e/FORM_ID/formResponse";
const FIELD_CLASS = "entry.1111111111";
const FIELD_HOUSE = "entry.2222222222";
const FIELD_POINTS = "entry.3333333333";
/* ========================== */

let currentClass = "";
let house = null;
let points = null;

function openPanel(cls) {
    currentClass = cls;
    document.getElementById("panelTitle").textContent = cls + " â€“ Award Points";
    document.getElementById("overlay").style.display = "flex";
}

function selectHouse(h) {
    house = h;
    document.querySelectorAll(".houses button").forEach(b => b.classList.remove("active"));
    event.target.classList.add("active");
}

function selectPoints(p) {
    points = p;
    document.querySelectorAll(".points button").forEach(b => b.classList.remove("active"));
    event.target.classList.add("active");
}

function submitPoints() {
    if (!house || !points) return;

    const form = document.createElement("form");
    form.method = "POST";
    form.action = FORM_URL;
    form.target = "hiddenFrame";

    [[FIELD_CLASS, currentClass],[FIELD_HOUSE, house],[FIELD_POINTS, points]].forEach(
        ([k,v]) => {
            const i = document.createElement("input");
            i.type="hidden"; i.name=k; i.value=v;
            form.appendChild(i);
        }
    );

    document.body.appendChild(form);
    form.submit();
    form.remove();

    house = points = null;
    document.getElementById("overlay").style.display = "none";
}
</script>

</body>
</html>
